{% extends 'base.html.twig' %}

{% block title %}Nos Événements{% endblock %}

{% block body %}
<section id="hero" class="hero section dark-background">
    <div class="container">
        <h2 class="text-center mt-5 mb-4 text-white">Nos Événements</h2>

        <div class="row">
            {% for evenement in pagination %}
                <div class="col-md-3 mb-4"> <!-- 4 cartes par ligne -->
                    <div class="card h-100 shadow-sm border-0">
                        <!-- Titre de l'événement au-dessus de l'image -->
                        <div class="card-body text-center">
                            <h5 class="card-title">{{ evenement.nomEvenement }}</h5>
                        </div>
                        <a href="{{ path('app_evenement_show', {'id': evenement.id}) }}" class="stretched-link">
                            <div class="card-img-wrapper" style="height: 200px; overflow: hidden; display: flex; align-items: center; justify-content: center; background-color: #f8f9fa;">
                                {% if evenement.image %}
                                    <img src="{{ asset('uploads/' ~ evenement.image) }}" class="card-img-top" alt="{{ evenement.nomEvenement }}" style="object-fit: contain; max-width: 100%; max-height: 100%;">
                                {% else %}
                                    <img src="{{ asset('images/default-event.jpg') }}" class="card-img-top" alt="Événement par défaut" style="object-fit: contain; max-width: 100%; max-height: 100%;">
                                {% endif %}
                            </div>
                        </a>
                        <div class="card-body d-flex flex-column">
                            <p class="card-text text-center">{{ evenement.descriptionEvenement|striptags|slice(0, 100) ~ '...' }}</p>
                            <a href="{{ path('app_evenement_show', {'id': evenement.id}) }}" class="btn btn-primary mt-auto">En savoir plus</a>
                        </div>
                    </div>
                </div>
            {% else %}
                <div class="col-12">
                    <p class="text-center">Aucun événement trouvé.</p>
                </div>
            {% endfor %}
        </div>

        <!-- Pagination -->
        <div class="d-flex justify-content-center mt-4">
            {{ knp_pagination_render(pagination) }} <!-- Rendu de la pagination -->
        </div>
    </div>
</section>

<style>
    /* Styles pour les cartes */
    .card {
        border-radius: 0.75rem; /* Bordures arrondies */
        transition: transform 0.3s, box-shadow 0.3s; /* Effet de zoom et ombre au survol */
        display: flex;
        flex-direction: column;
    }

    .card:hover {
        transform: scale(1.03); /* Zoom lors du survol */
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1); /* Ombre plus prononcée */
    }

    .card-img-wrapper {
        border-radius: 0.75rem 0.75rem 0 0; /* Bordures arrondies pour l'image */
        display: flex;
        align-items: center;
        justify-content: center;
        height: 200px;
        background-color: #f8f9fa; /* Fond clair pour les logos */
    }

    .card-img-top {
        object-fit: contain;
        max-width: 100%;
        max-height: 100%;
    }

    /* Assurez-vous que la pagination n'est pas chevauchante */
    .pagination {
        margin-top: 20px; /* Espace au-dessus de la pagination */
    }

    /* Ajustement pour la hauteur des cartes */
    .card {
        height: 100%;
    }

    .card-body {
        padding: 15px;
    }

    /* Réglages du texte */
    .card-title {
        font-size: 1.25rem;
        font-weight: bold;
        margin-bottom: 10px;
        text-align: center;
    }

    .card-text {
        font-size: 0.9rem;
        color: #6c757d;
        text-align: center;
    }

    /* Bouton */
    .btn-primary {
        background-color: #007bff;
        border: none;
        border-radius: 0.75rem;
        padding: 10px 20px;
        font-size: 0.875rem;
    }
</style>
{% endblock %}
